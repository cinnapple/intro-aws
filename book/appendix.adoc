== Appendix

[[appendix_aws_account]]
=== AWS Educate のアカウント作成

執筆時点において，AWS Educateに参加すると，$30分のAWS利用クーポンが手に入る．また，AWS Educateの提供する各種オンライン教材にアクセスすることができる．以下に登録の手順を示す．

[NOTE]
====
ここに示すのは執筆時点(2020/05)での情報である．将来的に手順が変更される可能性があることに注意．
====

AWS Educate アカウントの作成

. AWS Educate のページへ行く． https://aws.amazon.com/education/awseducate/
. "Join AWS Educate" > "Student" を選択．
. アカウント情報を入力．東大ECCSのメールアドレス(`g.ecc.u-tokyo.ac.jp`)を使用する．
. メールアドレスの確認がメールで届くので，リンクに従って認証する．
. アカウントが認可されるまで少し時間がかかるので，待つ．
. アカウントが認可されると，AWS Educate にログインできるようになる．

AWS Educate から AWS アカウントを使用する

. AWS Educate にログインしたら，トップバーの"AWS Account"をクリック．そこから"AWS Educate Starter Account"をクリック(下図参照)．
. 遷移した先のページ(vocareum)にある "AWS Console" をクリックすると，AWSのコンソール画面へ遷移する(下図参照)．
** このコンソール画面から，クーポンの利用分だけ任意の機能を使うことができる．
. 遷移した先のページ(vocareum)にある "Account Details" をクリックすると，CLIからAWSにアクセスするためのアクセスキーなどが表示される(下図参照)．
** `aws_access_key_id`, `aws_secret_access_key` の値を確認．
** これらの値を `~/.aws/credentials` などのファイルに保存する (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html[参照])．

.AWS Educate スクリーンショット1
image::imgs/aws_educate.png[AWS Educate, 600, align="center"]

.AWS Educate スクリーンショット2
image::imgs/aws_educate_account.png[AWS Educate, 600, align="center"]


[[python_nodejs_install]]
=== Python, node.js のインストール

[[aws_cli_install]]
=== AWS CLI のインストール

https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html[公式のドキュメンテーション]に従い，インストールを行う．

Linuxマシンならば，以下のコマンドを実行すれば良い．

[source, bash]
----
$ curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
$ unzip awscliv2.zip
$ sudo ./aws/install
----

インストールできたか確認するため，以下のコマンドを打って正しくバージョンが表示されることを確認する．

[source, bash]
----
$ aws --version
----

インストールができたら，以下のコマンドにより初期設定を行う (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html[参照])．

[source, bash]
----
$ aws configure
----

コマンドを実行すると， `AWS Access Key ID`, `AWS Secret Access Key` を入力するよう指示される．これらの認証情報の取得については <<appendix_aws_account>> を参照．コマンドは加えて，`Default region name` を訊いてくる．ここには `ap-northeast-1` (東京リージョン)を指定するのがよい．最後の `Default output format` は `JSON` としておくとよい．

[NOTE]
====
上記を完了すると，  `~/.aws/credentials` と `~/.aws/config`　という名前のファイルに設定が保存されているはずである．念の為，中身をしてみるとよい．

[source, bash]
----
$ cat ~/.aws/credentials
$ cat ~/.aws/config
----
====

[[aws_cdk_install]]
=== AWS CDK のインストール

https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html[公式ドキュメント]に従いインストールを行う．

node.js がインストールされてれば，基本的に以下のコマンドを実行すれば良い．

[source, bash]
----
$ npm install -g aws-cdk
----

[NOTE]
====
本書のハンズオンはAWS CDK version 1.44.0 で開発した．CDK は開発途上のライブラリなので，将来的にAPIが変更される可能性がある．APIの変更によりエラーが生じた場合は， version 1.44.0 を使用することを推奨する．

[source bash]
----
$ npm install -g aws-cdk@1.44
----
====

インストールできたか確認するため，以下のコマンドを打って正しくバージョンが表示されることを確認する．

[source, bash]
----
$ cdk --version
----

インストールができたら，以下のコマンドによりAWS側の初期設定を行う．これは一度実行すればOK．

[source, bash]
----
$ cdk bootstrap
----

[NOTE]
====
`cdk bootstrap` を実行するときは，AWSの認証情報とリージョンが正しく設定されていることを確認する．デフォルトでは `~/.aws/config` にあるデフォルトのプロファイルが使用される．デフォルト以外のプロファイルを用いるときは `AWS_ACCESS_KEY_ID` などの環境変数を設定する (https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html[参照])．
====

